{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "$defs" : {
    "BiomeRequirement" : {
      "type" : "object",
      "properties" : {
        "blacklist" : {
          "type" : "boolean"
        },
        "filter" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
          }
        },
        "type" : {
          "const" : "custommachinery:biome"
        }
      },
      "required" : [ "filter", "type" ]
    },
    "BlockRequirement" : {
      "type" : "object",
      "properties" : {
        "action" : {
          "type" : "string",
          "enum" : [ "check", "break", "destroy", "place", "replace_break", "replace_destroy" ]
        },
        "amount" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "block" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
        },
        "chance" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "comparator" : {
          "type" : "string",
          "enum" : [ ">>", ">=", "==", "<=", "<<" ]
        },
        "delay" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "filter" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "pattern" : "#?[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
          }
        },
        "mode" : {
          "$ref" : "#/$defs/RequirementIOMode"
        },
        "pos" : {
          "type" : "array",
          "items" : {
            "type" : "number",
            "format" : "double"
          }
        },
        "whitelist" : {
          "type" : "boolean"
        },
        "type" : {
          "const" : "custommachinery:block"
        }
      },
      "required" : [ "action", "mode", "pos", "type" ]
    },
    "ButtonRequirement" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "inverse" : {
          "type" : "boolean"
        },
        "type" : {
          "const" : "custommachinery:button"
        }
      },
      "required" : [ "id", "type" ]
    },
    "ChunkloadRequirement" : {
      "type" : "object",
      "properties" : {
        "radius" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1,
          "maximum" : 32
        },
        "type" : {
          "const" : "custommachinery:chunkload"
        }
      },
      "required" : [ "type" ]
    },
    "CommandRequirement" : {
      "type" : "object",
      "properties" : {
        "chance" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "command" : {
          "type" : "string"
        },
        "delay" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "log" : {
          "type" : "boolean"
        },
        "permissionlevel" : {
          "type" : "integer",
          "format" : "int32"
        },
        "phase" : {
          "type" : "string",
          "enum" : [ "starting", "crafting_tickable", "crafting_delayed", "ending" ]
        },
        "type" : {
          "const" : "custommachinery:command"
        }
      },
      "required" : [ "command", "phase", "type" ]
    },
    "DimensionRequirement" : {
      "type" : "object",
      "properties" : {
        "blacklist" : {
          "type" : "boolean"
        },
        "filter" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
          }
        },
        "type" : {
          "const" : "custommachinery:dimension"
        }
      },
      "required" : [ "type" ]
    },
    "DropRequirement" : {
      "type" : "object",
      "properties" : {
        "action" : {
          "type" : "string",
          "enum" : [ "check", "consume", "produce" ]
        },
        "amount" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "chance" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "delay" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "input" : {
          "type" : "array",
          "items" : {
            "anyOf" : [ {
              "$ref" : "#/$defs/ItemItem"
            }, {
              "$ref" : "#/$defs/ItemTag"
            }, {
              "type" : "string",
              "pattern" : "#?[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
            } ]
          }
        },
        "mode" : {
          "$ref" : "#/$defs/RequirementIOMode"
        },
        "nbt" : {
          "anyOf" : [ {
            "type" : "string"
          }, { } ]
        },
        "output" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
        },
        "radius" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "whitelist" : {
          "type" : "boolean"
        },
        "type" : {
          "const" : "custommachinery:drop"
        }
      },
      "required" : [ "action", "mode", "type" ]
    },
    "DurabilityRequirement" : {
      "type" : "object",
      "properties" : {
        "amount" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "break" : {
          "type" : "boolean"
        },
        "chance" : {
          "type" : "number",
          "format" : "double",
          "minimum" : 0,
          "maximum" : 1
        },
        "item" : {
          "anyOf" : [ {
            "$ref" : "#/$defs/ItemItem"
          }, {
            "$ref" : "#/$defs/ItemTag"
          }, {
            "type" : "string"
          } ]
        },
        "mode" : {
          "$ref" : "#/$defs/RequirementIOMode"
        },
        "nbt" : { },
        "slot" : {
          "type" : "string"
        },
        "type" : {
          "const" : "custommachinery:durability"
        }
      },
      "required" : [ "amount", "item", "mode", "type" ]
    },
    "ItemItem" : {
      "type" : "object",
      "properties" : {
        "item" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
        }
      },
      "required" : [ "item" ]
    },
    "ItemTag" : {
      "type" : "object",
      "properties" : {
        "tag" : {
          "type" : "string",
          "pattern" : "#?[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
        }
      },
      "required" : [ "tag" ]
    },
    "RequirementIOMode" : {
      "type" : "string",
      "enum" : [ "INPUT", "input", "OUTPUT", "output" ]
    }
  },
  "type" : "object",
  "properties" : {
    "appearance" : {
      "type" : "object",
      "properties" : {
        "block" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
        },
        "color" : {
          "type" : "integer",
          "format" : "int32"
        },
        "item" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
        },
        "light" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 15
        }
      }
    },
    "error" : {
      "type" : "boolean"
    },
    "hidden" : {
      "type" : "boolean"
    },
    "jei" : {
      "type" : "array",
      "items" : {
        "anyOf" : [ {
          "$ref" : "#/$defs/BiomeRequirement"
        }, {
          "$ref" : "#/$defs/BlockRequirement"
        }, {
          "$ref" : "#/$defs/ButtonRequirement"
        }, {
          "$ref" : "#/$defs/ChunkloadRequirement"
        }, {
          "$ref" : "#/$defs/CommandRequirement"
        }, {
          "$ref" : "#/$defs/DimensionRequirement"
        }, {
          "$ref" : "#/$defs/DropRequirement"
        }, {
          "$ref" : "#/$defs/DurabilityRequirement"
        } ]
      }
    },
    "jeiPriority" : {
      "type" : "integer",
      "format" : "int32"
    },
    "machine" : {
      "type" : "string",
      "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=|\\.]*[a-z]$"
    },
    "priority" : {
      "type" : "integer",
      "format" : "int32"
    },
    "requirements" : {
      "type" : "array",
      "items" : {
        "anyOf" : [ {
          "$ref" : "#/$defs/BiomeRequirement"
        }, {
          "$ref" : "#/$defs/BlockRequirement"
        }, {
          "$ref" : "#/$defs/ButtonRequirement"
        }, {
          "$ref" : "#/$defs/ChunkloadRequirement"
        }, {
          "$ref" : "#/$defs/CommandRequirement"
        }, {
          "$ref" : "#/$defs/DimensionRequirement"
        }, {
          "$ref" : "#/$defs/DropRequirement"
        }, {
          "$ref" : "#/$defs/DurabilityRequirement"
        } ]
      }
    },
    "time" : {
      "type" : "integer",
      "format" : "int32",
      "minimum" : 1
    }
  },
  "required" : [ "machine", "time" ],
  "$id" : "https://alec016.github.io/Custom-Machinery/Json%20Schema/src/main/resources/schemas/machine_recipe.json",
  "title" : "CustomMachinery Machine Recipe",
  "description" : "CustomMachinery Machine recipe json schema definition"
}