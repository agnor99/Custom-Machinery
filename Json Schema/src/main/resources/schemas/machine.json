{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://alec016.github.io/Custom-Machinery/Json%20Schema/src/main/resources/schemas/machine.json",
  "$defs" : {
    "AppearanceBuilder" : {
      "type" : "object",
      "properties" : {
        "ambient_sound" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "block" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "color" : {
          "type" : "integer",
          "format" : "int32"
        },
        "interaction_sound" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "item" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "light" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 15
        }
      }
    },
    "ChunkLoadComponent" : {
      "type" : "object",
      "properties" : {
        "radius" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1,
          "maximum" : 32
        }
      }
    },
    "ComponentIOMode" : {
      "type" : "string",
      "enum" : [ "INPUT", "OUTPUT", "BOTH", "NONE" ]
    },
    "Config" : {
      "type" : "object",
      "properties" : {
        "back" : {
          "$ref" : "#/$defs/SideMode"
        },
        "bottom" : {
          "$ref" : "#/$defs/SideMode"
        },
        "enabled" : {
          "type" : "boolean"
        },
        "front" : {
          "$ref" : "#/$defs/SideMode"
        },
        "input" : {
          "type" : "boolean"
        },
        "left" : {
          "$ref" : "#/$defs/SideMode"
        },
        "output" : {
          "type" : "boolean"
        },
        "right" : {
          "$ref" : "#/$defs/SideMode"
        },
        "top" : {
          "$ref" : "#/$defs/SideMode"
        }
      }
    },
    "Element" : {
      "type" : "object"
    },
    "EnergyComponent" : {
      "type" : "object",
      "properties" : {
        "capacity" : {
          "type" : "integer",
          "format" : "int64",
          "exclusiveMinimum" : 0
        },
        "config" : {
          "$ref" : "#/$defs/Config"
        },
        "maxInput" : {
          "type" : "integer",
          "format" : "int64",
          "exclusiveMinimum" : 0
        },
        "maxOutput" : {
          "type" : "integer",
          "format" : "int64",
          "exclusiveMinimum" : 0
        }
      },
      "required" : [ "capacity" ]
    },
    "ExperienceComponent" : {
      "type" : "object",
      "properties" : {
        "capacity" : {
          "type" : "integer",
          "format" : "int32",
          "exclusiveMinimum" : 0
        },
        "retrieve" : {
          "type" : "boolean"
        },
        "slots" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        }
      },
      "required" : [ "capacity" ]
    },
    "FluidComponent" : {
      "type" : "object",
      "properties" : {
        "capacity" : {
          "type" : "integer",
          "format" : "int64",
          "exclusiveMinimum" : 0
        },
        "config" : {
          "$ref" : "#/$defs/Config"
        },
        "filter" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
          }
        },
        "id" : {
          "type" : "string"
        },
        "maxInput" : {
          "type" : "integer",
          "format" : "int64",
          "exclusiveMinimum" : 0
        },
        "maxOutput" : {
          "type" : "integer",
          "format" : "int64",
          "exclusiveMinimum" : 0
        },
        "mode" : {
          "$ref" : "#/$defs/ComponentIOMode"
        },
        "unique" : {
          "type" : "boolean"
        }
      },
      "required" : [ "capacity", "id" ]
    },
    "ItemComponent" : {
      "type" : "object",
      "properties" : {
        "capacity" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "config" : {
          "$ref" : "#/$defs/Config"
        },
        "filter" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
          }
        },
        "id" : {
          "type" : "string"
        },
        "locked" : {
          "type" : "boolean"
        },
        "maxInput" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "maxOutput" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "mode" : {
          "$ref" : "#/$defs/ComponentIOMode"
        },
        "variant" : {
          "type" : "string",
          "pattern" : "custommachinery:[energy|filter|fluid|fuel|result|upgrade]"
        },
        "whitelist" : {
          "type" : "boolean"
        }
      },
      "required" : [ "id" ]
    },
    "RedstoneComponent" : {
      "type" : "object",
      "properties" : {
        "comparatorinputid" : {
          "type" : "string"
        },
        "compratorinputtype" : {
          "anyOf" : [ {
            "$ref" : "#/$defs/ChunkLoadComponent",
            "type" : "object",
            "properties" : {
              "type" : {
                "const" : "custommachinery:chunkload"
              }
            },
            "required" : [ "type" ]
          }, {
            "$ref" : "#/$defs/EnergyComponent",
            "type" : "object",
            "properties" : {
              "type" : {
                "const" : "custommachinery:energy"
              }
            },
            "required" : [ "type" ]
          }, {
            "$ref" : "#/$defs/ExperienceComponent",
            "type" : "object",
            "properties" : {
              "type" : {
                "const" : "custommachinery:experience"
              }
            },
            "required" : [ "type" ]
          }, {
            "$ref" : "#/$defs/FluidComponent",
            "type" : "object",
            "properties" : {
              "type" : {
                "const" : "custommachinery:fluid"
              }
            },
            "required" : [ "type" ]
          }, {
            "$ref" : "#/$defs/ItemComponent",
            "type" : "object",
            "properties" : {
              "type" : {
                "const" : "custommachinery:item"
              }
            },
            "required" : [ "type" ]
          }, {
            "$ref" : "#/$defs/RedstoneComponent",
            "type" : "object",
            "properties" : {
              "type" : {
                "const" : "custommachinery:redstone"
              }
            },
            "required" : [ "type" ]
          } ]
        },
        "craftingpoweroutput" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 16
        },
        "erroredpoweroutput" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 16
        },
        "idlepoweroutput" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 16
        },
        "powertopause" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 16
        }
      }
    },
    "SideMode" : {
      "type" : "string",
      "enum" : [ "INPUT", "OUTPUT", "BOTH", "NONE" ]
    }
  },
  "type" : "object",
  "properties" : {
    "appearance" : {
      "type" : "object",
      "properties" : {
        "ambient_sound" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "block" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "color" : {
          "type" : "integer",
          "format" : "int32"
        },
        "errored" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "hardness" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0
        },
        "idle" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "interaction_sound" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "item" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
        },
        "light" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 15
        },
        "mining_level" : {
          "type" : "string",
          "pattern" : "[minecraft:needs_[stone|iron|diamond]|forge:needs_netherite]_tool"
        },
        "paused" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "requires_tool" : {
          "type" : "boolean"
        },
        "resistance" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0
        },
        "running" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "shape" : {
          "type" : "array"
        },
        "shape_collision" : {
          "type" : "array"
        },
        "tool_type" : {
          "type" : "string",
          "pattern" : "minecraft:mineable/[shovel|pickaxe|axe|hoe]"
        }
      }
    },
    "catalysts" : {
      "type" : "array",
      "items" : {
        "type" : "string",
        "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
      }
    },
    "components" : {
      "type" : "array",
      "items" : {
        "anyOf" : [ {
          "$ref" : "#/$defs/ChunkLoadComponent",
          "type" : "object",
          "properties" : {
            "type" : {
              "const" : "custommachinery:chunkload"
            }
          },
          "required" : [ "type" ]
        }, {
          "$ref" : "#/$defs/EnergyComponent",
          "type" : "object",
          "properties" : {
            "type" : {
              "const" : "custommachinery:energy"
            }
          },
          "required" : [ "type" ]
        }, {
          "$ref" : "#/$defs/ExperienceComponent",
          "type" : "object",
          "properties" : {
            "type" : {
              "const" : "custommachinery:experience"
            }
          },
          "required" : [ "type" ]
        }, {
          "$ref" : "#/$defs/FluidComponent",
          "type" : "object",
          "properties" : {
            "type" : {
              "const" : "custommachinery:fluid"
            }
          },
          "required" : [ "type" ]
        }, {
          "$ref" : "#/$defs/ItemComponent",
          "type" : "object",
          "properties" : {
            "type" : {
              "const" : "custommachinery:item"
            }
          },
          "required" : [ "type" ]
        }, {
          "$ref" : "#/$defs/RedstoneComponent",
          "type" : "object",
          "properties" : {
            "type" : {
              "const" : "custommachinery:redstone"
            }
          },
          "required" : [ "type" ]
        } ]
      }
    },
    "gui" : {
      "type" : "array",
      "items" : {
        "$ref" : "#/$defs/Element"
      }
    },
    "jei" : {
      "type" : "array",
      "items" : {
        "$ref" : "#/$defs/Element"
      }
    },
    "name" : {
      "type" : "string"
    },
    "processor" : {
      "type" : "object",
      "properties" : {
        "amount" : {
          "type" : "integer",
          "format" : "int32",
          "readOnly" : true
        },
        "cooldown" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "type" : {
          "type" : "string",
          "pattern" : "custommachinery:[machne|craft]"
        }
      },
      "required" : [ "type" ]
    },
    "tooltips" : {
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "bold" : {
            "type" : "boolean"
          },
          "color" : {
            "type" : "string"
          },
          "font" : {
            "type" : "string",
            "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/]*[a-z]$"
          },
          "italic" : {
            "type" : "boolean"
          },
          "obfuscated" : {
            "type" : "boolean"
          },
          "strikethrough" : {
            "type" : "boolean"
          },
          "underlined" : {
            "type" : "boolean"
          }
        }
      }
    }
  },
  "required" : [ "name" ],
  "description": "CustomMachinery machine json schema definition",
  "title": "CustomMachinery Machine"
}