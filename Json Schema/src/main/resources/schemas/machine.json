{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://alec016.github.io/Custom-Machinery/Json%20Schema/src/main/resources/schemas/machine.json",
  "$defs" : {
    "AppearanceBuilder" : {
      "type" : "object",
      "properties" : {
        "block" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
        },
        "color" : {
          "type" : "integer",
          "format" : "int32"
        },
        "item" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
        },
        "light" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 15
        }
      }
    },
    "ComponentIOMode" : {
      "type" : "string",
      "enum" : [ "INPUT", "OUTPUT", "BOTH", "NONE" ]
    },
    "Config" : {
      "type" : "object",
      "properties" : {
        "back" : {
          "$ref" : "#/$defs/SideMode"
        },
        "bottom" : {
          "$ref" : "#/$defs/SideMode"
        },
        "enabled" : {
          "type" : "boolean"
        },
        "front" : {
          "$ref" : "#/$defs/SideMode"
        },
        "input" : {
          "type" : "boolean"
        },
        "left" : {
          "$ref" : "#/$defs/SideMode"
        },
        "output" : {
          "type" : "boolean"
        },
        "right" : {
          "$ref" : "#/$defs/SideMode"
        },
        "top" : {
          "$ref" : "#/$defs/SideMode"
        }
      }
    },
    "Element" : {
      "type" : "object"
    },
    "SideMode" : {
      "type" : "string",
      "enum" : [ "INPUT", "OUTPUT", "BOTH", "NONE" ]
    },
    "Tooltip" : {
      "type" : "object",
      "properties" : {
        "bold" : {
          "type" : "boolean"
        },
        "color" : {
          "anyOf" : [ {
            "type" : "string"
          }, {
            "type" : "integer",
            "format" : "int32"
          } ]
        },
        "font" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
        },
        "italic" : {
          "type" : "boolean"
        },
        "obfuscated" : {
          "type" : "boolean"
        },
        "strikethrough" : {
          "type" : "boolean"
        },
        "text" : {
          "type" : "string"
        },
        "underlined" : {
          "type" : "boolean"
        }
      },
      "required" : [ "text" ]
    }
  },
  "type" : "object",
  "properties" : {
    "appearance" : {
      "type" : "object",
      "properties" : {
        "ambient_sound" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
        },
        "block" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
        },
        "color" : {
          "type" : "integer",
          "format" : "int32"
        },
        "errored" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "hardness" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0
        },
        "idle" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "interaction_sound" : {
          "anyOf" : [ {
            "type" : "object",
            "properties" : {
              "break" : {
                "type" : "string",
                "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
              },
              "place" : {
                "type" : "string",
                "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
              },
              "step" : {
                "type" : "string",
                "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
              }
            }
          }, {
            "type" : "string",
            "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
          } ]
        },
        "item" : {
          "type" : "string",
          "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
        },
        "light" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0,
          "maximum" : 15
        },
        "mining_level" : {
          "type" : "string",
          "pattern" : "[minecraft:needs_[stone|iron|diamond]|forge:needs_netherite]_tool"
        },
        "paused" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "requires_tool" : {
          "type" : "boolean"
        },
        "resistance" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 0
        },
        "running" : {
          "$ref" : "#/$defs/AppearanceBuilder"
        },
        "shape" : {
          "anyOf" : [ {
            "type" : "array"
          }, {
            "type" : "string"
          } ]
        },
        "shape_collision" : {
          "anyOf" : [ {
            "type" : "array"
          }, {
            "type" : "string"
          } ]
        },
        "tool_type" : {
          "anyOf" : [ {
            "type" : "string",
            "pattern" : "minecraft:mineable/[shovel|pickaxe|axe|hoe]"
          }, {
            "type" : "array",
            "items" : {
              "anyOf" : [ {
                "type" : "string"
              }, {
                "type" : "array",
                "items" : { }
              } ]
            }
          } ]
        }
      }
    },
    "catalysts" : {
      "type" : "array",
      "items" : {
        "type" : "string",
        "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
      }
    },
    "components" : {
      "type" : "array",
      "items" : {
        "anyOf" : [ {
          "type" : "object",
          "properties" : {
            "radius" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 1,
              "maximum" : 32
            },
            "type" : {
              "const" : "custommachinery:chunkload"
            }
          },
          "required" : [ "type" ]
        }, {
          "type" : "object",
          "properties" : {
            "capacity" : {
              "type" : "integer",
              "format" : "int64",
              "exclusiveMinimum" : 0
            },
            "config" : {
              "$ref" : "#/$defs/Config"
            },
            "maxInput" : {
              "type" : "integer",
              "format" : "int64",
              "exclusiveMinimum" : 0
            },
            "maxOutput" : {
              "type" : "integer",
              "format" : "int64",
              "exclusiveMinimum" : 0
            },
            "type" : {
              "const" : "custommachinery:energy"
            }
          },
          "required" : [ "capacity", "type" ]
        }, {
          "type" : "object",
          "properties" : {
            "capacity" : {
              "type" : "integer",
              "format" : "int32",
              "exclusiveMinimum" : 0
            },
            "retrieve" : {
              "type" : "boolean"
            },
            "slots" : {
              "type" : "array",
              "items" : {
                "type" : "string"
              }
            },
            "type" : {
              "const" : "custommachinery:experience"
            }
          },
          "required" : [ "capacity", "type" ]
        }, {
          "type" : "object",
          "properties" : {
            "capacity" : {
              "type" : "integer",
              "format" : "int64",
              "exclusiveMinimum" : 0
            },
            "config" : {
              "$ref" : "#/$defs/Config"
            },
            "filter" : {
              "type" : "array",
              "items" : {
                "type" : "string",
                "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
              }
            },
            "id" : {
              "type" : "string"
            },
            "maxInput" : {
              "type" : "integer",
              "format" : "int64",
              "exclusiveMinimum" : 0
            },
            "maxOutput" : {
              "type" : "integer",
              "format" : "int64",
              "exclusiveMinimum" : 0
            },
            "mode" : {
              "$ref" : "#/$defs/ComponentIOMode"
            },
            "unique" : {
              "type" : "boolean"
            },
            "type" : {
              "const" : "custommachinery:fluid"
            }
          },
          "required" : [ "capacity", "id", "type" ]
        }, {
          "type" : "object",
          "properties" : {
            "capacity" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 1
            },
            "config" : {
              "$ref" : "#/$defs/Config"
            },
            "filter" : {
              "type" : "array",
              "items" : {
                "type" : "string",
                "pattern" : "[a-z]+[a-z|_]*[a-z]:[a-z]+[a-z|_|/|#|,|=]*[a-z]$"
              }
            },
            "id" : {
              "type" : "string"
            },
            "locked" : {
              "type" : "boolean"
            },
            "maxInput" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 1
            },
            "maxOutput" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 1
            },
            "mode" : {
              "$ref" : "#/$defs/ComponentIOMode"
            },
            "variant" : {
              "type" : "string",
              "pattern" : "custommachinery:[energy|filter|fluid|fuel|result|upgrade]"
            },
            "whitelist" : {
              "type" : "boolean"
            },
            "type" : {
              "const" : "custommachinery:item"
            }
          },
          "required" : [ "id", "type" ]
        }, {
          "type" : "object",
          "properties" : {
            "comparatorinputid" : {
              "type" : "string"
            },
            "compratorinputtype" : {
              "type" : "string",
              "pattern" : "custommachinery:[energy|fluid|item]"
            },
            "craftingpoweroutput" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 0,
              "maximum" : 16
            },
            "erroredpoweroutput" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 0,
              "maximum" : 16
            },
            "idlepoweroutput" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 0,
              "maximum" : 16
            },
            "powertopause" : {
              "type" : "integer",
              "format" : "int32",
              "minimum" : 0,
              "maximum" : 16
            },
            "type" : {
              "const" : "custommachinery:redstone"
            }
          },
          "required" : [ "type" ]
        } ]
      }
    },
    "gui" : {
      "type" : "array",
      "items" : {
        "$ref" : "#/$defs/Element"
      }
    },
    "jei" : {
      "type" : "array",
      "items" : {
        "$ref" : "#/$defs/Element"
      }
    },
    "name" : {
      "anyOf" : [ {
        "$ref" : "#/$defs/Tooltip"
      }, {
        "type" : "string"
      } ]
    },
    "processor" : {
      "type" : "object",
      "properties" : {
        "amount" : {
          "type" : "integer",
          "format" : "int32",
          "readOnly" : true
        },
        "cooldown" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "type" : {
          "type" : "string",
          "pattern" : "custommachinery:[machine|craft]"
        }
      },
      "required" : [ "type" ]
    },
    "tooltips" : {
      "type" : "array",
      "items" : {
        "$ref" : "#/$defs/Tooltip"
      }
    }
  },
  "required" : [ "name" ],
  "description": "CustomMachinery machine json schema definition",
  "title": "CustomMachinery Machine"
}